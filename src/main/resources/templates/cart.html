<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>
<body>

<nav class="navbar bg-dark border-bottom border-body" data-bs-theme="dark">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="./">Home</a>
        </div>
    </div>
</nav>

<div class="p-5 mb-4 bg-body-tertiary">
    <div class="container">
        <h1 class="display-3">장바구니</h1>
    </div>
</div>

<div class="container">
    <div>
        <a class="btn btn-primary" role="button" th:href="@{/}"/>주문하기</a>
    </div>
    <div style="padding-top:50px">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>도서</th>
                <th>가격</th>
                <th>수량</th>
                <th>소계</th>
                <th>비고</th>
            </tr>
            </thead>
            <tbody>
            <!--1.반복문으로 장바구니에 등록된 도서 정보 목록을 출력.
            커맨드 객체 cart.cartItems를 item 변수로 재정의하여 book 객체, quantity, totlaPrice등을
            ${item.value.필드 이름}을 이용하여 출력 -->
            <tr th:each="item : ${cart.cartItems}">
<!--                <td th:text="${item.value.book.bookId + '-' + item.value.book.name}"></td>-->
                <td th:text="${item.value.unitPrice}"></td>
                <td th:text="${item.value.quantity}"></td>
                <td th:text="${item.value.totalPrice}"></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <th>총액</th>
                <td th:text="${cart.grandTotal}"></td>
                <td></td>
            </tr>
            </tbody>
        </table>
        <!--2.쇼핑 계속하기 버튼을 작성하고 버튼을 누르면 웹 요청 URL은 /books로 이동 -->
        <a th:href="@{/books}" class="btn btn-secondary">&laquo; 쇼핑 계속하기</a>
    </div>

    <hr>
    <footer>
        <p>&copy;BookMarket</p>
    </footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>
</html>